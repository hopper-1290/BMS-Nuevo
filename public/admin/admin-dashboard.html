<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BARANGAY MANAGEMENT SYSTEM ‚Äî ADMIN</title>
  <link rel="stylesheet" href="./admin-dashboard.css">
</head>
<body class="admin-theme">
  <header class="adm-header">
    <div class="left">
      <img src="/public/admin/logo.png" alt="Barangay Logo" class="logo" onerror="this.style.display='none'"/>
      <div class="title">BARANGAY MANAGEMENT SYSTEM ‚Äî ADMIN</div>
    </div>
    <div class="center">Admin Dashboard ‚Äî <span id="adminName">[AdminName]</span></div>
    <div class="right">
      <button class="icon-btn" id="btnNotifications" aria-label="Notifications">üîî<span class="badge" id="notifCount">0</span></button>
      <button class="icon-btn" id="btnMessages" aria-label="Messages">‚úâÔ∏è<span class="badge" id="msgCount">0</span></button>
      <div class="profile" id="profileMenu">
        <img src="/public/admin/avatar.png" alt="avatar" class="avatar"/>
        <div class="profile-dropdown" id="profileDropdown" hidden>
          <button class="dropdown-item">Profile</button>
          <button class="dropdown-item">Settings</button>
          <button class="dropdown-item" id="signOut">Sign Out</button>
        </div>
      </div>
    </div>
  </header>

  <div class="layout">
    <nav class="sidebar" role="navigation">
      <ul>
        <li data-section="overview" class="active">Overview</li>
        <li data-section="pending">Pending Queue</li>
        <li data-section="audit">Audit Snapshot</li>
        <li data-section="sessions">User Sessions</li>
        <li data-section="exports">Reports & Exports</li>
        <li data-section="residents">Manage Residents</li>
        <li data-section="events">Manage Events</li>
        <li data-section="announcements">Manage Announcements</li>
        <li data-section="users">Manage Users</li>
        <li data-section="officials">Manage Officials</li>
        <li data-section="complaints">Manage Complaints</li>
        <li data-section="auditlogs">Manage Audit Logs</li>
        <li data-section="imports">Import Data</li>
      </ul>
    </nav>

    <main class="content">
      <!-- Overview -->
      <section id="overview" class="panel">
        <div class="summary-grid">
          <div class="card summary-card" id="cardRecentActivity">
            <h3>Recent Activity / Notifications</h3>
            <div class="feed" id="recentFeed">
              <!-- feed items appended here -->
            </div>
            <a href="#" class="view-all" data-link="auditlogs">View full audit log</a>
          </div>

          <div class="card summary-card" id="cardPendingQueue">
            <h3>Pending Items Queue</h3>
            <div class="filters">
              <select id="pendingCategoryFilter">
                <option value="all">All</option>
                <option value="residents">Pending Resident Registrations</option>
                <option value="documents">Pending Documents</option>
                <option value="complaints">Pending Complaints</option>
              </select>
              <input type="search" id="pendingSearch" placeholder="Search pending items..." />
            </div>
            <div class="pending-list" id="pendingList">
              <!-- rows will be rendered here -->
            </div>
            <div class="small-note">Quick actions available: Approve / Reject / View details</div>
          </div>

          <div class="card summary-card" id="cardAudit">
            <h3>Audit Logs Snapshot</h3>
            <table class="mini-table" id="auditSnapshot">
              <thead><tr><th>Actor</th><th>Action</th><th>Target</th><th>Time</th></tr></thead>
              <tbody></tbody>
            </table>
            <a class="view-all" data-link="auditlogs">Open Audit Viewer</a>
          </div>

          <div class="card summary-card" id="cardSessions">
            <h3>User Sessions & Security</h3>
            <div id="sessionsPanel">
              <!-- active sessions list -->
            </div>
            <div class="session-actions">
              <button id="btnSignOutAll" class="btn warn">Sign out selected</button>
            </div>
          </div>

          <div class="card summary-card" id="cardExports">
            <h3>Reports & Exports</h3>
            <div class="exports-actions">
              <button id="btnNewExport" class="btn primary">Generate Report</button>
              <div class="recent-exports" id="recentExports">
                <!-- recent exports list -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Pending Queue Section -->
      <section id="pending" class="panel" hidden>
        <h2>Pending Items</h2>
        <div class="table-wrap" id="pendingTableWrap">
          <table class="data-table" id="pendingTable">
            <thead>
              <tr><th>Type</th><th>Reference</th><th>SubmittedBy</th><th>Date</th><th>Status</th><th>Actions</th></tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="pagination" id="pendingPager"></div>
        </div>
      </section>

      <!-- Audit Snapshot -->
      <section id="audit" class="panel" hidden>
        <h2>Audit Snapshot</h2>
        <div class="table-wrap">
          <table class="data-table" id="auditTable">
            <thead>
              <tr><th>Timestamp</th><th>Actor</th><th>ActionType</th><th>Target</th><th>Details</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Sessions -->
      <section id="sessions" class="panel" hidden>
        <h2>Active Admin Sessions</h2>
        <div class="table-wrap">
          <table class="data-table" id="sessionsTable">
            <thead><tr><th>SessionID</th><th>Admin</th><th>IP</th><th>Device</th><th>Started</th><th>Actions</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Exports -->
      <section id="exports" class="panel" hidden>
        <h2>Reports & Exports</h2>
        <div class="card">
          <button id="btnRequestExport" class="btn primary">Request New Export</button>
          <div id="exportHistory">
            <table class="data-table" id="exportTable"><thead><tr><th>ExportID</th><th>Dataset</th><th>Format</th><th>Records</th><th>Status</th><th>RequestedAt</th><th>Actions</th></tr></thead><tbody></tbody></table>
          </div>
        </div>
      </section>

      <!-- Management Panels (skeletons) -->
      <section id="residents" class="panel" hidden>
        <h2>Manage Residents</h2>
        <div class="controls">
          <input id="resSearch" placeholder="Search residents" />
          <select id="resFilterPurok"><option value="">All Purok</option></select>
        </div>
        <div class="table-wrap">
          <table class="data-table" id="residentsTable">
            <thead>
              <tr>
                <th>ResidentID</th><th>Name</th><th>Age</th><th>Sex</th><th>Purok</th><th>Contact</th><th>Status</th><th>RegisteredAt</th><th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <section id="events" class="panel" hidden>
        <h2>Manage Events</h2>
        <div id="eventsControls"></div>
        <div class="table-wrap">
          <table class="data-table" id="eventsTable"><thead><tr><th>EventID</th><th>Title</th><th>Organizer</th><th>Start</th><th>Venue</th><th>Status</th><th>Actions</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="announcements" class="panel" hidden>
        <h2>Manage Announcements</h2>
        <div class="table-wrap">
          <table class="data-table" id="annTable"><thead><tr><th>ID</th><th>Title</th><th>Audience</th><th>Start</th><th>End</th><th>Status</th><th>Actions</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="users" class="panel" hidden>
        <h2>Manage Users</h2>
        <div class="table-wrap">
          <table class="data-table" id="usersTable"><thead><tr><th>UserID</th><th>Username</th><th>FullName</th><th>Roles</th><th>Status</th><th>LastLogin</th><th>Actions</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="officials" class="panel" hidden>
        <h2>Manage Officials</h2>
        <div class="table-wrap">
          <table class="data-table" id="officialsTable"><thead><tr><th>OfficialID</th><th>FullName</th><th>Position</th><th>Term</th><th>Status</th><th>Actions</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="complaints" class="panel" hidden>
        <h2>Manage Complaints</h2>
        <div class="table-wrap">
          <table class="data-table" id="complaintsTable"><thead><tr><th>Ref</th><th>Complainant</th><th>Category</th><th>DateReported</th><th>Status</th><th>Priority</th><th>Actions</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="auditlogs" class="panel" hidden>
        <h2>Manage Audit Logs</h2>
        <div class="table-wrap">
          <div class="controls"><input id="auditSearch" placeholder="Search logs"/></div>
          <table class="data-table" id="auditLogsTable"><thead><tr><th>LogID</th><th>Time</th><th>Actor</th><th>Action</th><th>Target</th><th>IP</th><th>Details</th></tr></thead><tbody></tbody></table>
        </div>
      </section>

      <section id="imports" class="panel" hidden>
        <h2>Import Data</h2>
        <div class="card">
          <form id="importForm">
            <label>Dataset
              <select id="importDataset"><option value="residents">Residents</option><option value="events">Events</option><option value="officials">Officials</option></select>
            </label>
            <label>File<input type="file" id="importFile" accept=".csv,.xlsx,.json" /></label>
            <button class="btn" id="btnUpload">Upload & Validate</button>
          </form>
          <div id="importPreview"></div>
        </div>
      </section>

    </main>
  </div>

  <script src="./admin-dashboard.js"></script>
</body>
</html>